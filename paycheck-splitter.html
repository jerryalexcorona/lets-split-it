<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paycheck Splitter</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            text-align: center;
            margin: 20px;
        }

        #welcome-container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
            background-color: #f9f9f9;
            margin-bottom: 20px;
        }

        #calculator-container {
            max-width: 800px; /* Set a maximum width to prevent it from becoming too wide */
            margin: 0 auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
            background-color: #f9f9f9;
        }

        input, button {
            padding: 10px;
            margin: 5px;
            font-size: 16px;
            cursor: pointer;
        }

        #percentages-container {
            display: flex;
            justify-content: center;
            margin-bottom: 10px;
        }

        #percentages-container input {
            width: 50px;
        }

        #results-container {
            margin-top: 20px;
        }

        .step {
            margin-top: 10px;
            text-align: left;
        }
    </style>
</head>
<body>
    <div id="welcome-container">
        <h2>Welcome to My Website!</h2>
        <p>As a token of gratitude, I'd like to introduce you to the Paycheck Splitter!</p>
        <p>This free tool helps you divide your paycheck into multiple segments based on the percentages you provide.</p>
        <p>Create different accounts based on your goals. ex: vacation, house down payment, taxes, gambling, new iphone, everyday spending, etc. Then, decide on a percentage to go into each account based on priority. Modify and play with the percentages to fit your lifestyle. The point is to start saving and get out of financial stress.</p>
        <p>Splitting my paycheck into different accounts helped me take control of my finances, breaking free from the paycheck-to-paycheck cycle.</p>
        <p>I believe you can do it too. Let's take the first step towards financial freedom!</p>
    </div>

    <div id="calculator-container">
        <h2>Paycheck Splitter</h2>

        <!-- Step 1: Enter paycheck amount -->
        <div class="step">
            <label for="paycheckAmount">Step 1: Enter your paycheck amount: $</label>
            <input type="number" id="paycheckAmount" placeholder="Enter amount">
        </div>

        <!-- Step 2: Choose the number of splits -->
        <div class="step">
            <label for="numSplits">Step 2: Choose the number of splits (up to 8):</label>
            <input type="number" id="numSplits" placeholder="Enter number of splits" min="2" max="8">
        </div>

        <!-- Step 3: Enter percentages for each split -->
        <div class="step">
            <label for="percentages">Step 3: Enter the percentages for each split (the remainder will go into the final split):</label>
            <div id="percentages-container"></div>
        </div>

        <button onclick="calculatePaycheck()">Calculate</button>

        <!-- Results container -->
        <div id="results-container"></div>

        <!-- Your script goes here -->
        <script>
            // Function to dynamically create input fields for percentages
            function createPercentageInputs(numSplits) {
                let percentagesContainer = document.getElementById('percentages-container');
                percentagesContainer.innerHTML = ""; // Clear previous inputs

                for (let i = 0; i < Math.min(numSplits - 1, 7); i++) {
                    let input = document.createElement('input');
                    input.type = "number";
                    input.placeholder = "%";
                    input.min = "0";
                    input.max = "100";
                    input.step = "any";
                    input.id = `percentage-${i}`;
                    input.style.marginRight = "5px";
                    percentagesContainer.appendChild(input);
                }
            }

            // Function to calculate paycheck split
            function calculatePaycheck() {
                try {
                    // Get the user's paycheck amount
                    let paycheckAmount = parseFloat(document.getElementById('paycheckAmount').value);

                    // Get the number of splits
                    let numSplits = parseInt(document.getElementById('numSplits').value);

                    // Get percentages for the first (numSplits - 1) splits
                    let percentages = [];
                    for (let i = 0; i < Math.min(numSplits - 1, 7); i++) {
                        let percentage = parseFloat(document.getElementById(`percentage-${i}`).value);
                        percentages.push(percentage);
                    }

                    // Check if the sum of percentages is greater than 100
                    let totalPercentage = percentages.reduce((sum, percentage) => sum + (isNaN(percentage) ? 0 : percentage), 0);
                    if (totalPercentage > 100) {
                        throw new Error("Total percentage exceeds 100%. Please adjust your input.");
                    }

                    // Calculate the remaining percentage
                    let remainderPercentage = 100 - totalPercentage;

                    // Add the remainder to the last split percentage
                    percentages.push(remainderPercentage);

                    // Calculate the split amounts
                    let shares = [];
                    for (let i = 0; i < numSplits; i++) {
                        let percentage = isNaN(percentages[i]) ? 0 : percentages[i];
                        shares.push(paycheckAmount * (percentage / 100));
                    }

                    // Display the results and encouraging comment using the results container
                    let resultsContainer = document.getElementById('results-container');
                    resultsContainer.innerHTML = "<strong>Paycheck Split:</strong><br>";
                    shares.forEach((value, index) => {
                        resultsContainer.innerHTML += `Split ${String.fromCharCode(65 + index)}: $${value.toFixed(2)}<br>`;
                    });

                    // Add a random friendly encouraging comment
                    let encouragingComments = [
                    "Great job! ðŸš€ You're one step closer to hit your financial goals.",
                        "Fantastic! ðŸŒˆ Your budgeting skills are getting better.",
                        "Keep it up! ðŸŒŸ Small financial improvements lead to big results.",
                        "You're doing amazing! ðŸŽ‰ Planning your finances wisely pays off.",
                        "Way to go! ðŸŒŸ Your commitment to financial planning is inspiring.",
                        "Impressive! ðŸŒŸ Your dedication to financial health is beginning to show.",
                        "Well done! ðŸŒŸ Each step you take brings you closer to financial success.",
                        "Outstanding! ðŸŒŸ Your financial planning skills keep improving.",
                        "Bravo! ðŸŒŸ Your wise money management is setting you up for success.",
                        // ... (rest of the encouraging comments remain the same)
                    ];
                    resultsContainer.innerHTML += "<br><em>" + encouragingComments[Math.floor(Math.random() * encouragingComments.length)] + "</em>";

                } catch (error) {
                    if (error.message !== "User canceled the input.") {
                        alert(`Oops! ðŸ˜… An unexpected error occurred: ${error}`);
                    }
                }
            }

            // Call createPercentageInputs initially
            let numSplitsInput = document.getElementById('numSplits');
            numSplitsInput.addEventListener('input', function() {
                let numSplits = parseInt(numSplitsInput.value);
                createPercentageInputs(numSplits);
            });
        </script>
    </div>
</body>
</html>